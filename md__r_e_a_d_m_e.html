<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PRD - Outil de planification de Parcours de soins: Guide d&#39;installation : Outil de planification des parcours de soins</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PRD - Outil de planification de Parcours de soins
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Guide d'installation : Outil de planification des parcours de soins </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><em>Ce fichier est un .md, c'est à dire qu'il est rédigé en markdown et nécéssite d'être ouvert comme tel, et non pas dans un bloc-note.</em></p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Version   </th><th class="markdownTableHeadNone">Date   </th><th class="markdownTableHeadNone">Auteur    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">1.0   </td><td class="markdownTableBodyNone">2023.03.01   </td><td class="markdownTableBodyNone">BLUMSTEIN Thomas   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md1"></a>
Sommaire</h1>
<ul>
<li>Guide d'installation : Outil de planification des parcours de soins<ul>
<li>Sommaire</li>
<li>Prérequis</li>
<li>Installation des prérequis<ul>
<li>1. Php</li>
<li>2. Composer</li>
<li>3. Scoop</li>
<li>4. NodeJS</li>
<li>5. Symfony</li>
</ul>
</li>
<li>Compilation du projet<ul>
<li>1. Clonage du projet</li>
<li>2. Lancement du projet</li>
</ul>
</li>
</ul>
</li>
<li>Architecture du projet<ul>
<li>Versions des librairies et Frameworks</li>
<li>ées1. Base de données</li>
<li>2. Frontend</li>
<li>3. Backend</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Prérequis</h1>
<ul>
<li><a href="https://windows.php.net/download" target="_blank">Php</a> - version 7.4, threadsafe</li>
<li><a href="https://getcomposer.org/download/" target="_blank">Composer</a> - pas de version précise requise</li>
<li><a href="https://scoop.sh" target="_blank">Scoop</a> - Installation via le terminal, pas de version précise requise</li>
<li><a href="https://nodejs.org/en/download/" target="_blank">NodeJS</a> - version 16.x</li>
<li><a href="https://symfony.com/download" target="_blank">Symfony</a> - pas de version précise requise</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Installation des prérequis</h1>
<p>Pour la mise en place du projet, plusieurs prérequis sont nécessaires à l'installation. Ils sont listés ci-dessus, et le détail de l'installation ainsi que les résolutions d'erreurs possibles se trouvent ci-dessous.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
1. Php</h2>
<p>Les librairies utilisées dans le projet nécessitent une version de Php antérieure à la version 8.0.0.</p>
<ul>
<li>Rendez-vous sur le site de <a href="https://windows.php.net/download" target="_blank">Php</a></li>
<li>Téléchargez la version 7.4.0 ou toute autre version antérieure, en faisant bien attention à télécharger la version **_threadsafe_**. <br  />
 <img src="https://i.imgur.com/p4GX16I.png" alt="php version" class="inline"/></li>
<li>Dézippez le dossier .zip téléchargé. La destination et le nom de ce dossier ne sont pas importants, mais il est conseillé de le placer dans un dossier facilement accessible.</li>
<li>Ajoutez le chemin vers le dossier tout juste extrait à la variable d'environnement <em>Path</em>.</li>
<li>Dupliquez le fichier <code>php.ini-development</code>et renommez le <code>php.ini</code> en changeant son extension.</li>
<li>Ouvrez php.ini avec un éditeur de texte, et décommentez les lignes :</li>
<li><code>extension_dir = "ext"</code></li>
<li><code>extension=pdo_sqlite</code></li>
<li>Tapez <code>var</code> dans la barre de recherche du pc et sélectionnez l'option "*Modifier les variables
  d'environnement système*" <br  />
 <img src="https://i.imgur.com/PLollpn.png" alt="var" class="inline"/><ul>
<li><p class="startli">Dans la fenêtre qui s'ouvre, cliquez sur "*Variables d'environnement*" dans l'onglet "*Paramètres système
    avancés*" puis sur "*Variables d'environnement*"</p>
<p class="startli"><img src="https://i.imgur.com/z3Wz1gh.png" alt="var2" class="inline"/></p>
</li>
<li>Dans la fenêtre du bas "variable **système**", sélectionnez la variable <b>Path</b> et cliquez sur "*Modifier*"</li>
<li>Cliquez sur "*Nouveau*" pour ajouter un nouveau chemin à cette variable d'environnement, puis sur "*Parcourir*"</li>
<li>Sélectionnez le dossier tout juste extrait et cliquez sur "*OK*"</li>
<li>Validez en cliquant sur "*OK*" pour fermer les fenêtres une à une.</li>
</ul>
</li>
<li>Ouvrez un terminal en tapant <code>cmd</code> dans la barre de recherche du pc et tapez la commande <code>php -v</code> pour vérifier que la version de Php installée est bien <b>antérieure à la version 8.0.0</b>. Si ce n'est pas le cas, recommencez les étapes précédentes en téléchargeant une version antérieure à la version 8.0.0. <br  />
 <img src="https://i.imgur.com/gxm1Byc.png" alt="php-v" class="inline"/> <br  />
</li>
</ul>
<blockquote class="doxtable">
<p>&zwj;Si le terminal affiche "command not found", essayez de fermer le terminal et de recommencer sur un nouveau. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md5"></a>
2. Composer</h2>
<p>Nous allons ensuite avoir besoin de Composer pour installer les différentes librairies.</p>
<ul>
<li>Rendez-vous sur le site de <a href="https://getcomposer.org/download/" target="_blank">Composer</a></li>
<li>Cliquez sur le lien "*Composer-Setup.exe*" pour télécharger l'installer <br  />
 <img src="https://i.imgur.com/swq3YA6.png" alt="composerdl" class="inline"/></li>
<li>Conservez la configuration par défaut<ul>
<li>Ne pas cocher Developper Mode</li>
<li>Vérifier que le chemin vers l'executable php est le bon</li>
<li>Ne rien renseigner ou cocher dans la section Proxy</li>
<li>Cliquer sur "*Install*"</li>
</ul>
</li>
<li>Ouvrez un terminal en tapant <code>cmd</code> dans la barre de recherche du pc et tapez la commande <code>composer</code> pour vérifier que l'installation s'est bien déroulée. Il devrait alors apparaître ce dessin ainsi qu'une liste de commandes possibles : <br  />
 <img src="https://i.imgur.com/PwXaqei.png" alt="composer" class="inline"/> <br  />
</li>
</ul>
<blockquote class="doxtable">
<p>&zwj;Si le terminal affiche "command not found", essayez de fermer le terminal et de recommencer sur un nouveau. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md6"></a>
3. Scoop</h2>
<ul>
<li>Ouvrez un terminal et tapez :</li>
<li><code>set-ExecutionPolicy RemoteSigned -scope CurrentUser</code></li>
<li><code>iwr -useb get.scoop.sh | iex</code></li>
<li>Si vous obtenez : "Running the installer as administrator is disabled by default, see https://github.com/ScoopInstaller/Install#for-admin for details." tapez :<ul>
<li>&lsquo;iwr -useb get.scoop.sh -outfile 'install.ps1&rsquo;<code> -</code>.\install.ps1 -RunAsAdmin`</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
4. NodeJS</h2>
<p>La phase suivante concerne l’installation de NodeJS qui nous servira par la suite pour la compilation de nos ressources graphiques.</p>
<ul>
<li>Rendez-vous sur le site de <a href="https://nodejs.org/en/download/" target="_blank">NodeJS</a></li>
<li>Cliquez sur le logo Windows Installer dans la section LTS pour télécharger l'installer <br  />
 <img src="https://i.imgur.com/jRV3YwV.png" alt="nodejsdl" class="inline"/></li>
<li>Lancez le .msi téléchargé<ul>
<li>Le chemin d'installation n'est pas très important</li>
<li>Vérifiez que le symbole à côté de "*Add to PATH*" est bien le même que pour les autres champs</li>
<li>Il n'y a pas besoin d'installer les outils nécessaires et Chocolatey</li>
</ul>
</li>
<li>Ouvrez un terminal en tapant <code>cmd</code> dans la barre de recherche du pc et tapez la commande <code>node -v</code> pour vérifier que l'installation s'est bien déroulée. Il devrait alors apparaître la version de node téléchargée : <br  />
 <img src="https://i.imgur.com/vpGMPFT.png" alt="node-v" class="inline"/> <br  />
</li>
</ul>
<blockquote class="doxtable">
<p>&zwj;Si le terminal affiche "command not found", essayez de fermer le terminal et de recommencer sur un nouveau. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md8"></a>
5. Symfony</h2>
<ul>
<li>Ouvrez un terminal et tapez :</li>
<li><code>scoop install symfony-cli</code></li>
<li><code>symfony local:php:list -vvv</code></li>
<li>Vérifiez que votre version php choisie est bien surlignée, et pas une autre</li>
<li>Si ce n'est pas le cas, changez la variable d'environnement de PHP en vous référent au paragraphe Php</li>
</ul>
<h1><a class="anchor" id="autotoc_md9"></a>
Compilation du projet</h1>
<h2><a class="anchor" id="autotoc_md10"></a>
1. Clonage du projet</h2>
<p>Le code source du projet est disponible sur le dépôt <a href="https://github.com/Oute-Oute/PRD" target="_blank">Github</a>.</p>
<blockquote class="doxtable">
<p>&zwj;- Pensez à bien vous placer sur la branche où se trouve le code vous interessant : <a href="https://github.com/Oute-Oute/PRD/tree/Import-Export" target="_blank">Import-Export</a> pour l'outil de planification ou <a href="https://github.com/Oute-Oute/PRD/tree/Tests_Tool" target="_blank">Test-Tool</a> pour l'outil d'ordonnancement </p>
</blockquote>
<ul>
<li>Dans un terminal, déplacez vous dans le dossier du projet (par exemple <code>cd C:[User]\PRD</code>)</li>
<li>Changez votre version de php : <code>echo [votre-version-php] &gt; .php-version</code> (ex : <code>echo 7.4.0 &gt; .php-version</code>)</li>
</ul>
<h2><a class="anchor" id="autotoc_md11"></a>
2. Lancement du projet</h2>
<ul>
<li>Dans un terminal ouvert dans le dossier du projet tapez la commande <code>symfony server:start</code> pour démarrer le serveur <br  />
 <img src="https://i.imgur.com/W4tn9Xj.png" alt="symfonyok" class="inline"/> <br  />
</li>
</ul>
<blockquote class="doxtable">
<p>&zwj;Si cette erreur s'affiche: <br  />
 <img src="https://i.imgur.com/EcyjK3U.png" alt="symfonyko" class="inline"/> <br  />
 Il faut alors installer symfony en allant sur le site <a href="https://symfony.com/download" target="_blank">Symfony</a></p><ul>
<li>Ajoutez le dossier d'extraction de symfony à la variable d'environnement Path si ce n'est pas fait</li>
<li>Tapez la commande <code>symfony -V</code> pour vérifier que l'installation s'est déroulée sans problème (la majuscule est </li>
</ul>
</blockquote>
<p>importante)</p>
<ul>
<li>Ouvrez un navigateur et tapez l'adresse inscrite dans l'encadré vert (ici <a href="http://127.0.0.1:8000">http://127.0.0.1:8000</a>)</li>
<li>Si tout s'est bien déroulé, la page de connexion du projet devrait s'afficher et vous pourrez vous connecter.</li>
</ul>
<h1><a class="anchor" id="autotoc_md12"></a>
Architecture du projet</h1>
<p>Le projet est organisé en modèle Modèle Vue Contrôleur (MVC) Symfony reliant le site à une base de donnée et en 3 dossiers principaux.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Versions des librairies et Frameworks</h2>
<p>Au 29/03/2023, les versions utilisées sont les suivantes :</p><ul>
<li>PHP : v7.4.3</li>
<li>Symfony : v5.4.20</li>
<li>nodeJS : v18.14.0</li>
<li>Scoop : v0.3.1</li>
<li>Composer : v2.5.1</li>
<li>Librairies Javascript<ul>
<li>Bootstrap : v5.1.3</li>
<li>FullCalendar Scheduler : v5.11.0</li>
<li>Jquery : v3.6.0</li>
<li>JqueryUI : v1.13.1</li>
<li>Popper : v2.10.2</li>
<li>AnimEvent : v1.0.17</li>
<li>LeaderLine : v1.0.7</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md14"></a>
1. Base de données</h2>
<p>La base de données est une base SQLITE3. Elle est située dans le dossier <code>src/var</code> et est nommée <code>database.sqlite</code>. Le serveur Symfony y accède sous forme d'entités qui sont situées dans le dossier <code>src/Entity</code>. Chaque entité correspond à une table de la base de données. (ex : <code>src/Entity/Appointment.php</code> correspond à la table <code>Appointment</code> de la base de données et permet de générer des objets <code>Appointment</code> qui seront utilisés dans le code du projet et qui correpondent aux entrées de la table.)</p>
<p>La base de données est organisée suivant le modèle relationnel suivant : <img src="https://imgur.com/QZtKCGb.jpg" alt="bdd" class="inline"/></p>
<p>La table <code>SimulationInfos</code> n'est utilisée que dans l'outil de simulation et n'existe pas dans la base de données de l'outil de planification.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
2. Frontend</h2>
<p>Le frontend est composé de 2 dossiers principaux :</p><ul>
<li><code>public</code> : contient les fichiers statiques (css, js, images, etc.) chacun dans un sous-dossier séparé</li>
<li><code>templates</code> : contient les fichiers twig (fichiers html utilisés par symfony) qui seront affichés par le navigateur</li>
</ul>
<h2><a class="anchor" id="autotoc_md16"></a>
3. Backend</h2>
<p>Les fichiers utilisés par le serveur Symfony sont situés dans le dossier <code>src</code> et organisés en 3 sous-dossiers :</p><ul>
<li><code>Controller</code> : contient les fichiers php qui gèrent les requêtes du navigateur et qui renvoient les pages twig</li>
<li><code>Entity</code> : contient les fichiers php qui correspondent aux entités de la base de données</li>
<li><code>Repository</code> : contient les fichiers php qui permettent de récupérer les données de la base de données </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
